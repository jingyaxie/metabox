# MetaBox 环境配置示例
# 复制此文件为 .env 并修改相应配置

# 应用基础配置
APP_NAME=MetaBox
APP_VERSION=1.0.0
DEBUG=false

# 数据库配置 - 使用SQLite
DATABASE_URL=sqlite:///./metabox.db
VECTOR_DB_TYPE=chroma
CHROMA_PERSIST_DIR=./chroma_db

# 认证配置
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 大模型API配置（至少配置一个）
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
QWEN_API_KEY=your-qwen-api-key
QWEN_BASE_URL=https://dashscope.aliyuncs.com/api/v1

# 文件上传配置
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads
ALLOWED_EXTENSIONS=pdf,doc,docx,txt,md,jpg,jpeg,png,gif

# 图片内容理解配置
ENABLE_IMAGE_UNDERSTANDING=true
DEFAULT_IMAGE_PROVIDER=openai
IMAGE_OCR_MODEL=gpt-4-vision-preview
IMAGE_VISION_MODEL=gpt-4-vision-preview
QWEN_IMAGE_MODEL=qwen-vl-plus
IMAGE_MAX_SIZE=1024
IMAGE_QUALITY=85

# 向量模型配置
TEXT_EMBEDDING_MODEL=text-embedding-ada-002
TEXT_EMBEDDING_DIMENSION=1536

# RAG 配置
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RESULTS=5
SIMILARITY_THRESHOLD=0.7

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=logs/metabox.log

# CORS 配置
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# 插件配置
PLUGINS_ENABLED=true
PLUGINS_DIR=plugins

# ====================
# 缓存配置
# ====================
REDIS_URL=redis://redis:6379
CACHE_TTL=3600  # 1小时

# ====================
# 跨域配置
# ====================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# ====================
# 监控配置
# ====================
ENABLE_METRICS=true
METRICS_PORT=9090

# ====================
# 开发环境配置
# ====================
RELOAD=false
WORKERS=1

# ====================
# 生产环境配置
# ====================
# 在生产环境中，请修改以下配置：
# - 使用强密码替换所有默认密码
# - 设置真实的 API Key
# - 配置正确的域名和端口
# - 启用 HTTPS
# - 设置适当的文件权限 